
<!-- extends ก่อน ค่อย load -->
{% extends 'layout.html' %} 
{% load static %}



{% block title %} HOME {% endblock title %}

{% block content %}

    

    <div class="container px-4 mt-4">
        <div class="row">
            <div class="col-md-8">
                <!-- Articles -->


                {% for post in posts %}
                    <article class="mb-4 pb-4 border-bottom">
                        <div class="d-flex align-items-center mb-2">
                            <!-- <img src="/api/placeholder/32/32" class="rounded-circle me-2" alt="Author"> -->
                            <span>Topics {{ post.categories.all|join:", " }}</span> <!-- แสดงชื่อผู้เขียนและหมวดหมู่ -->
                        </div>
                        <a href="{% url 'postdetail' post.id %}">
                            <h2 class="fs-4 fw-bold mb-2">{{ post.title }}</h2>  <!-- แสดงชื่อโพสต์ -->
                        </a>
                        <p class="text-muted">{{ post.content|truncatewords:15 }}</p>  <!-- แสดงเนื้อหาโพสต์บางส่วน -->
                        <div class="article-meta d-flex align-items-center">
                            <span>{{ post.created_at|date:"M d" }}</span>  <!-- แสดงวันที่สร้างโพสต์ -->
                            <span class="mx-2">·</span>
                            <span>{{ post.views }} views</span>  <!-- แสดงจำนวนการเข้าชม (คุณต้องเพิ่ม field นี้ใน model ถ้าต้องการ) -->
                            <span class="mx-2">·</span>
                            <span>{{ post.comments.count }} comments</span>  <!-- แสดงจำนวนความคิดเห็น (คุณต้องมีฟิลด์นี้หรือวิธีการนับใน model ถ้าต้องการ) -->
                        </div>
                    </article>
                    {% empty %}
                    <p>No posts available.</p>  <!-- แสดงข้อความถ้าไม่มีโพสต์ -->
                {% endfor %}

                
            </div>

            <div class="col-md-4">
                <!-- Sidebar -->
                <div class="sticky-top pt-4">
                    <h4 class="mb-3">Staff Picks</h4>
                    <div class="mb-4">
                        <div class="d-flex align-items-center mb-2">
                            <img src="/api/placeholder/24/24" class="rounded-circle me-2" alt="Author">
                            <span class="small">Victor Garcia</span>
                        </div>
                        <h5 class="fs-6 fw-bold">A Tale of Two Transitions: Why America Can't Risk Another Tumultuous Presidency</h5>
                    </div>

                    <h4 class="mb-3">Recommended topics</h4>
                    <div class="mb-4">
                        <a href="#" class="topic-tag text-decoration-none text-dark">Self Improvement</a>
                        <a href="#" class="topic-tag text-decoration-none text-dark">Cryptocurrency</a>
                        <a href="#" class="topic-tag text-decoration-none text-dark">Writing</a>
                        <a href="#" class="topic-tag text-decoration-none text-dark">Politics</a>
                        <a href="#" class="topic-tag text-decoration-none text-dark">Relationships</a>
                        <a href="#" class="topic-tag text-decoration-none text-dark">Productivity</a>
                        <a href="#" class="topic-tag text-decoration-none text-dark">Money</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>


{% endblock content %}

